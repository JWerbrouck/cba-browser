(this["webpackJsonpcba-react"]=this["webpackJsonpcba-react"]||[]).push([[0],[,,,,,,function(e,a,t){},function(e,a){e.exports={specialKeysChrome:[{keyCode:226,keyName:"oem_102"},{keyCode:188,keyName:"oem_comma"},{keyCode:190,keyName:"oem_period"},{keyCode:191,keyName:"oem_2"},{keyCode:187,keyName:"oem_plus"},{keyCode:16,keyName:"rshift"},{keyCode:13,keyName:"return"},{keyCode:220,keyName:"oem_5"},{keyCode:192,keyName:"oem_3"},{keyCode:221,keyName:"oem_6"},{keyCode:186,keyName:"oem_1"}],specialKeysFirefox:[{keyCode:226,keyName:"oem_102"},{keyCode:188,keyName:"oem_comma"},{keyCode:59,keyName:"oem_period"},{keyCode:58,keyName:"oem_2"},{keyCode:61,keyName:"oem_plus"},{keyCode:16,keyName:"rshift"},{keyCode:13,keyName:"return"},{keyCode:220,keyName:"oem_5"},{keyCode:165,keyName:"oem_3"},{keyCode:160,keyName:"oem_6"},{keyCode:164,keyName:"oem_1"}]}},,,,,function(e,a,t){e.exports=t(22)},,,,,function(e,a,t){},function(e,a,t){},,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var l=t(0),s=t.n(l),m=t(10),n=t.n(m),c=(t(17),t(18),t(6),t(19),t(8)),r=t(2),i=t(3),o=t(5),d=t(4),p=(t(20),function(e){Object(o.a)(t,e);var a=Object(d.a)(t);function t(){return Object(r.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"keyboard-case defaultCase"},s.a.createElement("div",{className:"keyboard"},s.a.createElement("div",{className:"key-row"},s.a.createElement("div",{className:"key default1 _1-60u smallFont neutral"},s.a.createElement("p",{className:"primary",id:"tab"}),s.a.createElement("p",{hidden:!0})),s.a.createElement("div",{className:"key default1 smallFont black",id:"a"},s.a.createElement("p",{className:"special",id:"a"},"A"),s.a.createElement("p",{className:"primary",id:"a"},"G#/Ab")),s.a.createElement("div",{className:"key default1 smallFont white",id:"z"},s.a.createElement("p",{className:"special",id:"z"},"Z"),s.a.createElement("p",{className:"primary",id:"z"},"B")),s.a.createElement("div",{className:"key default1 smallFont white",id:"e"},s.a.createElement("p",{className:"special",id:"e"},"E"),s.a.createElement("p",{className:"primary",id:"e"},"D")),s.a.createElement("div",{className:"key default1 smallFont white",id:"r"},s.a.createElement("p",{className:"special",id:"r"},"R"),s.a.createElement("p",{className:"primary",id:"r"},"F")),s.a.createElement("div",{className:"key default1 smallFont black",id:"t"},s.a.createElement("p",{className:"special",id:"t"},"T"),s.a.createElement("p",{className:"primary",id:"t"},"G#/Ab")),s.a.createElement("div",{className:"key default1 smallFont white",id:"y"},s.a.createElement("p",{className:"special",id:"y"},"Y"),s.a.createElement("p",{className:"primary",id:"y"},"H")),s.a.createElement("div",{className:"key default1 smallFont white",id:"u"},s.a.createElement("p",{className:"special",id:"u"},"U"),s.a.createElement("p",{className:"primary",id:"u"},"D")),s.a.createElement("div",{className:"key default1 smallFont white",id:"i"},s.a.createElement("p",{className:"special",id:"i"},"I"),s.a.createElement("p",{className:"primary",id:"i"},"F")),s.a.createElement("div",{className:"key default1 smallFont black",id:"o"},s.a.createElement("p",{className:"special",id:"o"},"O"),s.a.createElement("p",{className:"primary",id:"o"},"G#/Ab")),s.a.createElement("div",{className:"key default1 smallFont white",id:"p"},s.a.createElement("p",{className:"special",id:"p"},"P"),s.a.createElement("p",{className:"primary",id:"p"},"B")),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_6"},s.a.createElement("p",{className:"special",id:"oem_6"},"\xa8 ^"),s.a.createElement("p",{className:"primary",id:"oem_6"},"D")),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_1"},s.a.createElement("p",{className:"special",id:"oem_1"},"* $"),s.a.createElement("p",{className:"primary",id:"oem_1"},"F")),s.a.createElement("div",{className:"key default1 _1-5u smallFont not"},s.a.createElement("p",{className:"primary",id:"return_1"}))),s.a.createElement("div",{className:"key-row"},s.a.createElement("div",{className:"key default1 _1-75u smallFont neutral",id:"capital"},s.a.createElement("p",{className:"primary",id:"capital"})),s.a.createElement("div",{className:"key default1 smallFont black",id:"q"},s.a.createElement("p",{className:"special",id:"q"},"Q"),s.a.createElement("p",{className:"primary",id:"q"},"A#/Bb")),s.a.createElement("div",{className:"key default1 smallFont black",id:"s"},s.a.createElement("p",{className:"special",id:"s"},"S"),s.a.createElement("p",{className:"primary",id:"s"},"C#/Db")),s.a.createElement("div",{className:"key default1 smallFont white",id:"d"},s.a.createElement("p",{className:"special",id:"d"},"D"),s.a.createElement("p",{className:"primary",id:"d"},"E")),s.a.createElement("div",{className:"key default1 smallFont white",id:"f"},s.a.createElement("p",{className:"special",id:"f"},"F"),s.a.createElement("p",{className:"primary",id:"f"},"G")),s.a.createElement("div",{className:"key default1 smallFont black",id:"g"},s.a.createElement("p",{className:"special",id:"g"},"G"),s.a.createElement("p",{className:"primary",id:"g"},"A#/Bb")),s.a.createElement("div",{className:"key default1 smallFont black",id:"h"},s.a.createElement("p",{className:"special",id:"h"},"H"),s.a.createElement("p",{className:"primary",id:"h"},"C#/Db")),s.a.createElement("div",{className:"key default1 smallFont white",id:"j"},s.a.createElement("p",{className:"special",id:"j"},"J"),s.a.createElement("p",{className:"primary",id:"j"},"E")),s.a.createElement("div",{className:"key default1 smallFont white",id:"k"},s.a.createElement("p",{className:"special",id:"k"},"K"),s.a.createElement("p",{className:"primary",id:"k"},"G")),s.a.createElement("div",{className:"key default1 smallFont black",id:"l"},s.a.createElement("p",{className:"special",id:"l"},"L"),s.a.createElement("p",{className:"primary",id:"l"},"A#/Bb")),s.a.createElement("div",{className:"key default1 smallFont black",id:"m"},s.a.createElement("p",{className:"special",id:"m"},"M"),s.a.createElement("p",{className:"primary",id:"m"},"C#/Db")),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_3"},s.a.createElement("p",{className:"special",id:"oem_3"},"% \xf9"),s.a.createElement("p",{className:"primary",id:"oem_3"},"E")),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_5"},s.a.createElement("p",{className:"special",id:"oem_5"},"\xa3 \xb5"),s.a.createElement("p",{className:"primary",id:"oem_5"},"G")),s.a.createElement("div",{className:"key default1 _1-25u smallFont black",id:"return"},s.a.createElement("p",{className:"special",id:"return"},"return"),s.a.createElement("p",{className:"primary",id:"return"},"(A#/Bb)"))),s.a.createElement("div",{className:"key-row"},s.a.createElement("div",{className:"key default1 _1-25u smallFont neutral"},s.a.createElement("p",{className:"primary",id:"lshift"})),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_102"},s.a.createElement("p",{className:"special",id:"oem_102"},"<"),s.a.createElement("p",{className:"primary",id:"oem_102"},"A")),s.a.createElement("div",{className:"key default1 smallFont white",id:"w"},s.a.createElement("p",{className:"special",id:"w"},"W"),s.a.createElement("p",{className:"primary",id:"w"},"C")),s.a.createElement("div",{className:"key default1 smallFont black",id:"x"},s.a.createElement("p",{className:"special",id:"x"},"X"),s.a.createElement("p",{className:"primary",id:"x"},"D#/Eb")),s.a.createElement("div",{className:"key default1 smallFont black",id:"c"},s.a.createElement("p",{className:"special",id:"c"},"C"),s.a.createElement("p",{className:"primary",id:"c"},"F#/Gb")),s.a.createElement("div",{className:"key default1 smallFont white",id:"v"},s.a.createElement("p",{className:"special",id:"v"},"V"),s.a.createElement("p",{className:"primary",id:"v"},"A")),s.a.createElement("div",{className:"key default1 smallFont white",id:"b"},s.a.createElement("p",{className:"special",id:"b"},"B"),s.a.createElement("p",{className:"primary",id:"b"},"C")),s.a.createElement("div",{className:"key default1 smallFont black",id:"n"},s.a.createElement("p",{className:"special",id:"n"},"N"),s.a.createElement("p",{className:"primary",id:"n"},"D#/Eb")),s.a.createElement("div",{className:"key default1 smallFont black",id:"oem_comma"},s.a.createElement("p",{className:"special",id:"oem_comma"},", ?"),s.a.createElement("p",{className:"primary",id:"oem_comma"},"F#/Gb")),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_period"},s.a.createElement("p",{className:"special",id:"oem_period"},". ;"),s.a.createElement("p",{className:"primary",id:"oem_period"},"A")),s.a.createElement("div",{className:"key default1 smallFont white",id:"oem_2"},s.a.createElement("p",{className:"special",id:"oem_2"},"/ :"),s.a.createElement("p",{className:"primary",id:"oem_2"},"C")),s.a.createElement("div",{className:"key default1 smallFont black",id:"oem_plus"},s.a.createElement("p",{className:"special",id:"oem_plus"},"+ ="),s.a.createElement("p",{className:"primary",id:"oem_plus"},"D#/Eb")),s.a.createElement("div",{className:"key default1 _2-75u smallFont neutral",id:"rshift"},s.a.createElement("p",{className:"special",id:"rshift"},"SHIFT"),s.a.createElement("p",{className:"primary",id:"rshift"},"(A)")))))}}]),t}(l.Component)),y=t(11),u=t(7),E={a:{val:44,note:"Ab2"},oem_102:{val:45,note:"A2"},q:{val:46,note:"Bb2"},z:{val:47,note:"B2"},w:{val:48,note:"C3"},s:{val:49,note:"C#3"},e:{val:50,note:"D3"},x:{val:51,note:"Eb3"},d:{val:52,note:"E3"},r:{val:53,note:"F3"},c:{val:54,note:"F#3"},f:{val:55,note:"G3"},t:{val:56,note:"G#3"},v:{val:57,note:"A3"},g:{val:58,note:"Bb3"},y:{val:59,note:"B3"},b:{val:60,note:"C4"},h:{val:61,note:"C#4"},u:{val:62,note:"D4"},n:{val:63,note:"Eb4"},j:{val:64,note:"E4"},i:{val:65,note:"F4"},oem_comma:{val:66,note:"F#4"},k:{val:67,note:"G4"},o:{val:68,note:"G#4"},oem_period:{val:69,note:"A4"},l:{val:70,note:"Bb4"},p:{val:71,note:"B4"},oem_2:{val:72,note:"C5"},m:{val:73,note:"C#5"},oem_6:{val:74,note:"D5"},oem_plus:{val:75,note:"Eb5"},oem_3:{val:76,note:"E5"},oem_1:{val:77,note:"F5"},oem_5:{val:79,note:"G5"},rshift:{val:81,note:"A5"},return:{val:82,note:"Bb5"},2:{val:44,note:"Ab2"},3:{val:48,note:"C3"},4:{val:51,note:"Eb3"},5:{val:54,note:"F#3"},6:{val:57,note:"A3"},7:{val:60,note:"C4"},8:{val:63,note:"Eb4"},9:{val:66,note:"F#4"},0:{val:69,note:"A4"},oem_4:{val:72,note:"C5"},oem_minus:{val:75,note:"Eb5"}},N=t(1),k=t.n(N),v=document.getElementsByClassName("key"),f=function(e){Object(o.a)(t,e);var a=Object(d.a)(t);function t(e){var l;return Object(r.a)(this,t),(l=a.call(this,e)).componentDidMount=function(){switch(document.addEventListener("keyup",(function(e){return l.whenKeyUp(e)})),document.addEventListener("keydown",(function(e){return l.whenKeyDown(e)})),document.addEventListener("mousedown",(function(e){return l.whenClicked(e)})),document.addEventListener("mouseup",(function(e){return l.whenClickReleased(e)})),Object(y.a)().name){case"firefox":l.setState({specialKeys:u.specialKeysFirefox});break;case"chrome":l.setState({specialKeys:u.specialKeysChrome})}},l.whenClicked=function(e){try{var a=e.target.attributes.id.value,t=E[a].note;l.state.played.includes(a)||void 0===t||(l.state.synth.triggerAttack([t],k.a.context.currentTime),l.press(a),l.setState({played:[].concat(Object(c.a)(l.state.played),[a])},(function(){new Date})))}catch(s){return}},l.whenClickReleased=function(e){console.log("mouseup");try{var a=e.target.attributes.id.value,t=E[a].note;l.state.synth.triggerRelease([t]),l.depress(a);var s=l.state.played.filter((function(e,t,l){return a!==e}));l.setState({played:s})}catch(m){return}},l.whenKeyDown=function(e){try{var a=l.getKeyPressed(e.keyCode),t=E[a].note;l.state.played.includes(a)||void 0===t||(l.state.synth.triggerAttack([t],k.a.context.currentTime),l.press(a),l.setState({played:[].concat(Object(c.a)(l.state.played),[a])}))}catch(s){return}},l.whenKeyUp=function(e){try{var a=l.getKeyPressed(e.keyCode),t=E[a].note;l.state.synth.triggerRelease([t]),l.depress(a);var s=l.state.played.filter((function(e,t,l){return a!==e}));l.setState({played:s})}catch(m){return}},l.getKeyPressed=function(e){for(var a,t=0;t<l.state.specialKeys.length;t++){if(l.state.specialKeys[t].keyCode===e){a=l.state.specialKeys[t].keyName;break}a=String.fromCharCode(e).toLowerCase()}return a},l.state={played:[],synth:new k.a.PolySynth(4,k.a.Synth).toMaster(),specialKeys:[]},l}return Object(i.a)(t,[{key:"press",value:function(e){for(var a=0;a<v.length;a++)if(void 0!==v[a].getElementsByClassName("primary")&&v[a].getElementsByClassName("primary")[0].id===e){v[a].classList.add("pressedDefault1");break}}},{key:"depress",value:function(e){for(var a=0;a<v.length;a++)if(v[a].getElementsByClassName("primary")[0].id===e){v[a].classList.remove("pressedDefault1");break}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(p,{pressedKeys:this.state.playing}))}}]),t}(l.Component);var h=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"infoContainer"},s.a.createElement("p",{className:"infoText"},"USE YOUR KEYBOARD AS AN ACCORDION"),s.a.createElement("ul",null,s.a.createElement("li",{className:"infoBullet"},"Press the corresponding button on your keyboard to play its accordion counterpart;"),s.a.createElement("li",{className:"infoBullet"},"Currently only an AZERTY keyboard is supported (you can easily change that yourself);"),s.a.createElement("li",{className:"infoBullet"},'For the connoisseurs: currently it\'s only "C on the first row". C on the third may follow later;'),s.a.createElement("li",{className:"infoBullet"},"Download the more powerful key-blocking MIDI version ",s.a.createElement("a",{href:"https://github.com/JWerbrouck/CBA-MIDI-emulator",className:"link"},"here")," (desktop prototype);"),s.a.createElement("li",{className:"infoBullet"},'Stay tuned for the ultimate "Accordion Hero" web MIDI app (planned in an eventual next lockdown).'))),s.a.createElement("div",null,s.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.4398c12d.chunk.js.map